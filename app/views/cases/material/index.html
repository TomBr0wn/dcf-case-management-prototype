{% extends "layouts/main.html" %}
{% from "moj/components/button-menu/macro.njk" import mojButtonMenu %}

{# Pre-render MoJ Button Menu as HTML #}
{# {% set viewerOpsMenuHtml %}
  {{ mojButtonMenu({
    button: { text: "Edit Document", classes: "govuk-button--inverse" },
    items: [
      { text: "Log an under or over redaction" },
      { text: "View redaction log history" },
      { text: "Turn on potential redactions" },
      { text: "Rotate pages" },
      { text: "Discard pages" },
      { text: "Mark as read" },
      { text: "Rename" }
    ]
  }) }}
{% endset %} #}

{% set navId = 'cases' %}
{% set secondaryNavId = 'materials' %}
{# {% set pageName = 'Materials' %} #}

{% set defendantsValue %}
  {{_case.defendants[0].firstName}} {{_case.defendants[0].lastName}}
  {% if _case.defendants.length > 1 %}
    and {{_case.defendants.length - 1}} more
  {% endif %}
{% endset %}


{% set pageName = defendantsValue %}

{# {% block beforeContent %}
  {% include "_includes/case/identity-bar.njk" %}
{% endblock %} #}

{% block content %}
  {% include "_includes/success-banner.njk" %}
  {% include "_includes/case/dcf-navigation.njk" %}

  <div class="govuk-grid-row">
    <div class="govuk-grid-column-full">
      <div class="moj-page-header-actions">
        <div class="moj-page-header-actions__title">
         <span class="govuk-caption-m">{{_case.reference}}</span>
        <h1 class="govuk-heading-m">{{pageName}}</h1>
        </div>
        <div class="moj-page-header-actions__actions">
          <div class="moj-button-group moj-button-group--inline">
            <button type="submit" class="govuk-button govuk-button--primary">Complete triage</button>
            <button type="submit" class="govuk-button govuk-button--secondary">Share collection</button>
          </div>
        </div>
      </div>

      {% include "_includes/case/material/main-tabs.njk" %}
    </div>
  </div>
{% endblock %}


{% block pageScripts %}
  <script src="/public/javascripts/components/material-viewer.js"></script>
{% endblock %}


